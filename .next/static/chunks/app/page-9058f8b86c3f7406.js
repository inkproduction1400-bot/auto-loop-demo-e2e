(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4169:function(e,a,r){Promise.resolve().then(r.bind(r,6277))},6277:function(e,a,r){"use strict";r.d(a,{default:function(){return d}});var s=r(7437),t=r(29),o=r.n(t),c=r(2265);function d(){let[e,a]=(0,c.useState)(!1),[r,t]=(0,c.useState)(null),[d,n]=(0,c.useState)(null),[i,l]=(0,c.useState)({adult:1,student:0,child:0,infant:0}),[x,b]=(0,c.useState)("テスト太郎"),[f,u]=(0,c.useState)("test@example.com"),[p,m]=(0,c.useState)("+81901234567"),[j,h]=(0,c.useState)("4242424242424242"),[g,v]=(0,c.useState)("12/25"),[w,k]=(0,c.useState)("123"),N=x.trim()?"":"必須",z=f.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)?"":"メール形式エラー":"必須",y=!r||!d||!!N||!!z,C=(0,c.useMemo)(()=>3e3*i.adult+1500*i.student+1e3*i.child+0*i.infant,[i]),S=!!r&&!!d&&!N&&!z&&j.trim().length>=12&&!!g.trim()&&!!w.trim(),[_,E]=(0,c.useState)(!1),[O,L]=(0,c.useState)(!1),M=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r||(t(e),a(!1))};return(0,s.jsxs)("div",{"data-test":"widget-container","data-test-widget-loaded":"true",className:"jsx-3199e8c76367f965 container",children:[(0,s.jsx)("h1",{className:"jsx-3199e8c76367f965 title",children:"予約ウィジェット"}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 card",children:[(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"日付"}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965",children:[(0,s.jsx)("button",{"data-test":"date-picker","aria-expanded":e?"true":"false",onClick:()=>a(e=>!e),className:"jsx-3199e8c76367f965 btn outline",children:r?"選択中: ".concat(r):"日付を選択"}),(0,s.jsxs)("div",{id:"calendar",role:"group","aria-label":"日付",className:"jsx-3199e8c76367f965 "+"grid ".concat(e?"":"hidden"),children:[(0,s.jsx)("button",{"data-test":"date-2025-03-02","data-test-date":"2025-03-02",onClick:()=>M("2025-03-02"),className:"jsx-3199e8c76367f965 btn ghost",children:"2025-03-02"}),(0,s.jsx)("button",{"data-test":"date-2025-05-30","data-test-date":"2025-05-30",onClick:()=>M("2025-05-30"),className:"jsx-3199e8c76367f965 btn ghost",children:"2025-05-30"}),(0,s.jsx)("button",{"data-test":"date-2025-05-31","data-test-date":"2025-05-31","data-test-disabled":"true",disabled:!0,onClick:()=>M("2025-05-31",!0),title:"無効",className:"jsx-3199e8c76367f965 btn ghost disabled",children:"2025-05-31（無効）"})]})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"時間帯"}),(0,s.jsx)("div",{role:"group","aria-label":"時間帯",className:"jsx-3199e8c76367f965 grid",children:["10:00-10:30","14:00-14:30","16:00-16:30"].map(e=>(0,s.jsx)("button",{"data-test":"slot-".concat(e),"data-test-slot":e,onClick:()=>n(e),className:"jsx-3199e8c76367f965 "+"btn chip ".concat(d===e?"chip-selected":""),children:e.replace("-","–")},e))})]}),[["大人","adult"],["学生","student"],["小人","child"],["幼児","infant"]].map(e=>{let[a,r]=e;return(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:a}),(0,s.jsx)("input",{type:"number",min:0,value:i[r],"data-test":"".concat(r,"-count"),["data-test-".concat(r,"-count")]:!0,onChange:e=>l(a=>({...a,[r]:Math.max(0,Number(e.target.value||0))})),className:"jsx-3199e8c76367f965 input spaced"})]},r)}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"合計"}),(0,s.jsx)("div",{className:"jsx-3199e8c76367f965",children:(0,s.jsxs)("span",{id:"amountLabel","data-test":"amount","data-test-amount":String(C),className:"jsx-3199e8c76367f965",children:["\xa5",C.toLocaleString("ja-JP")]})})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 card",children:[(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"氏名"}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 field",children:[(0,s.jsx)("input",{"data-test":"customer-name",value:x,onChange:e=>b(e.target.value),placeholder:"山田太郎",className:"jsx-3199e8c76367f965 "+"input spaced ".concat(N?"input-error":"")}),(0,s.jsx)("div",{"aria-live":"polite","data-test":"error-name",className:"jsx-3199e8c76367f965 "+"err-text ".concat(N?"":"hidden"),children:N||"必須"})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"メール"}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 field",children:[(0,s.jsx)("input",{"data-test":"customer-email",value:f,onChange:e=>u(e.target.value),placeholder:"example@example.com",className:"jsx-3199e8c76367f965 "+"input spaced ".concat(z?"input-error":"")}),(0,s.jsx)("div",{"aria-live":"polite","data-test":"error-email",className:"jsx-3199e8c76367f965 "+"err-text ".concat(z&&!N?"":"hidden"),children:z||"メール形式エラー"})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"電話"}),(0,s.jsx)("input",{"data-test":"customer-phone",value:p,onChange:e=>m(e.target.value),placeholder:"+8190...",className:"jsx-3199e8c76367f965 input spaced"})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 card",children:[(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"カード番号"}),(0,s.jsx)("input",{"data-test":"card-number",value:j,onChange:e=>h(e.target.value),className:"jsx-3199e8c76367f965 input spaced"})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"有効期限"}),(0,s.jsx)("input",{"data-test":"card-expiry",value:g,onChange:e=>v(e.target.value),className:"jsx-3199e8c76367f965 input spaced"})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[(0,s.jsx)("div",{className:"jsx-3199e8c76367f965 label",children:"CVC"}),(0,s.jsx)("input",{"data-test":"card-cvc",value:w,onChange:e=>k(e.target.value),className:"jsx-3199e8c76367f965 input spaced"})]}),(0,s.jsx)("button",{"data-test":"pay-button",disabled:!S,onClick:()=>{if(E(!1),L(!1),S){if("4000000000000002"===j.replace(/\s+/g,"")){L(!0);return}E(!0)}},className:"jsx-3199e8c76367f965 btn primary wfull",children:"支払う"}),(0,s.jsx)("div",{id:"inputError",role:"alert","aria-live":"assertive","data-test":"error-banner",className:"jsx-3199e8c76367f965 "+"banner err ".concat(y?"":"hidden"),children:"入力に誤りがあります"}),(0,s.jsx)("div",{id:"payError","data-test":"payment-error","data-test-error-message":!0,className:"jsx-3199e8c76367f965 "+"banner err ".concat(O?"":"hidden"),children:"決済に失敗しました"}),(0,s.jsx)("div",{id:"payOk","data-test":"booking-confirmed","data-test-reservation-complete":!0,className:"jsx-3199e8c76367f965 "+"banner ok ".concat(_?"":"hidden"),children:"ご予約ありがとうございました！"})]}),(0,s.jsxs)("div",{id:"debug",className:"jsx-3199e8c76367f965 debug",children:["date=",r||"-"," / slot=",d||"-"," / amount=",C]}),(0,s.jsx)(o(),{id:"3199e8c76367f965",children:".jsx-3199e8c76367f965:root{--panel:#ffffff;--border:#e5e7eb;--border-strong:#cbd5e1;--text:#111827;--muted:#4b5563;--accent:#2563eb;--accent-2:#1d4ed8;--ok:#16a34a;--err:#dc2626;--shadow:0 6px 24px rgba(0, 0, 0, 0.08);--radius:12px;--space:14px}.container.jsx-3199e8c76367f965{color:var(--text);background:var(--panel);border:1px solid var(--border);-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);padding:24px;-webkit-box-shadow:var(--shadow);-moz-box-shadow:var(--shadow);box-shadow:var(--shadow);max-width:880px;margin:28px auto}.title.jsx-3199e8c76367f965{margin:0 0 12px;font-size:22px;font-weight:800;letter-spacing:.2px}.card.jsx-3199e8c76367f965{background:var(--panel);border:1px solid var(--border);-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);padding:18px;margin:18px 0}.row.jsx-3199e8c76367f965{display:grid;grid-template-columns:160px 1fr;gap:10px 18px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin:var(--space)0;font-size:16px;line-height:1.65}.label.jsx-3199e8c76367f965{font-weight:700;color:var(--text)}.grid.jsx-3199e8c76367f965{display:grid;grid-template-columns:repeat(3,minmax(160px,1fr));gap:12px;margin-top:8px}.input.jsx-3199e8c76367f965{width:100%;max-width:360px;background:#fff;color:var(--text);border:1px solid var(--border-strong);-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);padding:11px 12px;outline:none;font-size:16px;-webkit-transition:border-color.15s,box-shadow.15s;-moz-transition:border-color.15s,box-shadow.15s;-o-transition:border-color.15s,box-shadow.15s;transition:border-color.15s,box-shadow.15s}.input.spaced.jsx-3199e8c76367f965{margin:10px 0}.input.jsx-3199e8c76367f965::-webkit-input-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965:-moz-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965::-moz-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965:-ms-input-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965::-ms-input-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965::placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965:focus{border-color:var(--accent);-webkit-box-shadow:0 0 0 3px rgba(37,99,235,.18);-moz-box-shadow:0 0 0 3px rgba(37,99,235,.18);box-shadow:0 0 0 3px rgba(37,99,235,.18)}.input-error.jsx-3199e8c76367f965{border-color:var(--err);-webkit-box-shadow:0 0 0 3px rgba(220,38,38,.15);-moz-box-shadow:0 0 0 3px rgba(220,38,38,.15);box-shadow:0 0 0 3px rgba(220,38,38,.15)}.btn.jsx-3199e8c76367f965{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;border:1px solid var(--border-strong);background:#f8fafc;color:var(--text);padding:11px 14px;-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);cursor:pointer;-webkit-transition:background.15s,border-color.15s,-webkit-transform.06s;-moz-transition:background.15s,border-color.15s,-moz-transform.06s;-o-transition:background.15s,border-color.15s,-o-transform.06s;transition:background.15s,border-color.15s,-webkit-transform.06s;transition:background.15s,border-color.15s,-moz-transform.06s;transition:background.15s,border-color.15s,-o-transform.06s;transition:background.15s,border-color.15s,transform.06s}.btn.jsx-3199e8c76367f965:hover{background:#eef2f7;border-color:#b6c1d4}.btn.jsx-3199e8c76367f965:active{-webkit-transform:translatey(1px);-moz-transform:translatey(1px);-ms-transform:translatey(1px);-o-transform:translatey(1px);transform:translatey(1px)}.btn.outline.jsx-3199e8c76367f965{background:#fff}.btn.ghost.jsx-3199e8c76367f965{background:#fff}.btn.disabled.jsx-3199e8c76367f965{opacity:.6;cursor:not-allowed}.btn.chip.jsx-3199e8c76367f965{-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);background:#fff}.btn.chip.chip-selected.jsx-3199e8c76367f965{background:#e8f0ff;border-color:var(--accent);-webkit-box-shadow:0 0 0 3px rgba(37,99,235,.18);-moz-box-shadow:0 0 0 3px rgba(37,99,235,.18);box-shadow:0 0 0 3px rgba(37,99,235,.18)}.btn.primary.jsx-3199e8c76367f965{background:var(--accent);color:#fff;border-color:var(--accent);font-weight:800}.btn.primary.jsx-3199e8c76367f965:hover{background:var(--accent-2);border-color:var(--accent-2)}.btn.primary.jsx-3199e8c76367f965:disabled{background:#c7d2fe;border-color:#c7d2fe;color:#374151;cursor:not-allowed;opacity:.8}.wfull.jsx-3199e8c76367f965{width:100%;margin-top:10px}.err-text.jsx-3199e8c76367f965{color:var(--err);font-weight:700;font-size:14px}.hidden.jsx-3199e8c76367f965{display:none!important}.banner.jsx-3199e8c76367f965{margin-top:12px;padding:12px 14px;-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);background:#fff5f5;border:1px solid#fecaca;color:var(--err);font-weight:700}.banner.ok.jsx-3199e8c76367f965{background:#ecfdf5;border-color:#bbf7d0;color:var(--ok)}.debug.jsx-3199e8c76367f965{font-size:12px;color:var(--muted);margin-top:8px}@media(max-width:840px){.row.jsx-3199e8c76367f965{grid-template-columns:1fr}.grid.jsx-3199e8c76367f965{grid-template-columns:repeat(2,minmax(140px,1fr))}.container.jsx-3199e8c76367f965{margin:16px;padding:18px}}"})]})}}},function(e){e.O(0,[29,971,117,744],function(){return e(e.s=4169)}),_N_E=e.O()}]);