(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3735:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>d.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>l,routeModule:()=>u,tree:()=>c}),r(5100),r(1506),r(5866);var s=r(3191),t=r(8716),o=r(7922),d=r.n(o),i=r(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(a,n);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5100)),"/Users/nagai/auto-loop-demo/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/nagai/auto-loop-demo/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/nagai/auto-loop-demo/app/page.tsx"],x="/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6552:(e,a,r)=>{Promise.resolve().then(r.bind(r,9364))},9364:(e,a,r)=>{"use strict";r.d(a,{default:()=>n});var s=r(326),t=r(7626),o=r.n(t),d=r(7577);let i={adult:3e3,student:1500,child:1e3,infant:0};function n(){let[e,a]=(0,d.useState)(!1),[r,t]=(0,d.useState)(null),[n,c]=(0,d.useState)(null),[l,x]=(0,d.useState)({adult:1,student:0,child:0,infant:0}),[p,u]=(0,d.useState)("テスト太郎"),[f,b]=(0,d.useState)("test@example.com"),[m,j]=(0,d.useState)("+81901234567"),[h,g]=(0,d.useState)("4242424242424242"),[v,w]=(0,d.useState)("12/25"),[k,N]=(0,d.useState)("123"),y=p.trim()?"":"必須",z=f.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)?"":"メール形式エラー":"必須",C=!r||!n||!!y||!!z,P=(0,d.useMemo)(()=>l.adult*i.adult+l.student*i.student+l.child*i.child+l.infant*i.infant,[l]),S=!!r&&!!n&&!y&&!z&&h.trim().length>=12&&!!v.trim()&&!!k.trim(),[_,$]=(0,d.useState)(!1),[q,E]=(0,d.useState)(!1),A=(e,r=!1)=>{r||(t(e),a(!1))};return(0,s.jsxs)("div",{"data-test":"widget-container","data-test-widget-loaded":"true",className:"jsx-3199e8c76367f965 container",children:[s.jsx("h1",{className:"jsx-3199e8c76367f965 title",children:"予約ウィジェット"}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 card",children:[(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"日付"}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965",children:[s.jsx("button",{"data-test":"date-picker","aria-expanded":e?"true":"false",onClick:()=>a(e=>!e),className:"jsx-3199e8c76367f965 btn outline",children:r?`選択中: ${r}`:"日付を選択"}),(0,s.jsxs)("div",{id:"calendar",role:"group","aria-label":"日付",className:`jsx-3199e8c76367f965 grid ${e?"":"hidden"}`,children:[s.jsx("button",{"data-test":"date-2025-03-02","data-test-date":"2025-03-02",onClick:()=>A("2025-03-02"),className:"jsx-3199e8c76367f965 btn ghost",children:"2025-03-02"}),s.jsx("button",{"data-test":"date-2025-05-30","data-test-date":"2025-05-30",onClick:()=>A("2025-05-30"),className:"jsx-3199e8c76367f965 btn ghost",children:"2025-05-30"}),s.jsx("button",{"data-test":"date-2025-05-31","data-test-date":"2025-05-31","data-test-disabled":"true",disabled:!0,onClick:()=>A("2025-05-31",!0),title:"無効",className:"jsx-3199e8c76367f965 btn ghost disabled",children:"2025-05-31（無効）"})]})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"時間帯"}),s.jsx("div",{role:"group","aria-label":"時間帯",className:"jsx-3199e8c76367f965 grid",children:["10:00-10:30","14:00-14:30","16:00-16:30"].map(e=>s.jsx("button",{"data-test":`slot-${e}`,"data-test-slot":e,onClick:()=>c(e),className:`jsx-3199e8c76367f965 btn chip ${n===e?"chip-selected":""}`,children:e.replace("-","–")},e))})]}),[["大人","adult"],["学生","student"],["小人","child"],["幼児","infant"]].map(([e,a])=>(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:e}),s.jsx("input",{type:"number",min:0,value:l[a],"data-test":`${a}-count`,[`data-test-${a}-count`]:!0,onChange:e=>x(r=>({...r,[a]:Math.max(0,Number(e.target.value||0))})),className:"jsx-3199e8c76367f965 input spaced"})]},a)),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"合計"}),s.jsx("div",{className:"jsx-3199e8c76367f965",children:(0,s.jsxs)("span",{id:"amountLabel","data-test":"amount","data-test-amount":String(P),className:"jsx-3199e8c76367f965",children:["\xa5",P.toLocaleString("ja-JP")]})})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 card",children:[(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"氏名"}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 field",children:[s.jsx("input",{"data-test":"customer-name",value:p,onChange:e=>u(e.target.value),placeholder:"山田太郎",className:`jsx-3199e8c76367f965 input spaced ${y?"input-error":""}`}),s.jsx("div",{"aria-live":"polite","data-test":"error-name",className:`jsx-3199e8c76367f965 err-text ${y?"":"hidden"}`,children:y||"必須"})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"メール"}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 field",children:[s.jsx("input",{"data-test":"customer-email",value:f,onChange:e=>b(e.target.value),placeholder:"example@example.com",className:`jsx-3199e8c76367f965 input spaced ${z?"input-error":""}`}),s.jsx("div",{"aria-live":"polite","data-test":"error-email",className:`jsx-3199e8c76367f965 err-text ${z&&!y?"":"hidden"}`,children:z||"メール形式エラー"})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"電話"}),s.jsx("input",{"data-test":"customer-phone",value:m,onChange:e=>j(e.target.value),placeholder:"+8190...",className:"jsx-3199e8c76367f965 input spaced"})]})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 card",children:[(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"カード番号"}),s.jsx("input",{"data-test":"card-number",value:h,onChange:e=>g(e.target.value),className:"jsx-3199e8c76367f965 input spaced"})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"有効期限"}),s.jsx("input",{"data-test":"card-expiry",value:v,onChange:e=>w(e.target.value),className:"jsx-3199e8c76367f965 input spaced"})]}),(0,s.jsxs)("div",{className:"jsx-3199e8c76367f965 row",children:[s.jsx("div",{className:"jsx-3199e8c76367f965 label",children:"CVC"}),s.jsx("input",{"data-test":"card-cvc",value:k,onChange:e=>N(e.target.value),className:"jsx-3199e8c76367f965 input spaced"})]}),s.jsx("button",{"data-test":"pay-button",disabled:!S,onClick:()=>{if($(!1),E(!1),S){if("4000000000000002"===h.replace(/\s+/g,"")){E(!0);return}$(!0)}},className:"jsx-3199e8c76367f965 btn primary wfull",children:"支払う"}),s.jsx("div",{id:"inputError",role:"alert","aria-live":"assertive","data-test":"error-banner",className:`jsx-3199e8c76367f965 banner err ${C?"":"hidden"}`,children:"入力に誤りがあります"}),s.jsx("div",{id:"payError","data-test":"payment-error","data-test-error-message":!0,className:`jsx-3199e8c76367f965 banner err ${q?"":"hidden"}`,children:"決済に失敗しました"}),s.jsx("div",{id:"payOk","data-test":"booking-confirmed","data-test-reservation-complete":!0,className:`jsx-3199e8c76367f965 banner ok ${_?"":"hidden"}`,children:"ご予約ありがとうございました！"})]}),(0,s.jsxs)("div",{id:"debug",className:"jsx-3199e8c76367f965 debug",children:["date=",r||"-"," / slot=",n||"-"," / amount=",P]}),s.jsx(o(),{id:"3199e8c76367f965",children:".jsx-3199e8c76367f965:root{--panel:#ffffff;--border:#e5e7eb;--border-strong:#cbd5e1;--text:#111827;--muted:#4b5563;--accent:#2563eb;--accent-2:#1d4ed8;--ok:#16a34a;--err:#dc2626;--shadow:0 6px 24px rgba(0, 0, 0, 0.08);--radius:12px;--space:14px}.container.jsx-3199e8c76367f965{color:var(--text);background:var(--panel);border:1px solid var(--border);-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);padding:24px;-webkit-box-shadow:var(--shadow);-moz-box-shadow:var(--shadow);box-shadow:var(--shadow);max-width:880px;margin:28px auto}.title.jsx-3199e8c76367f965{margin:0 0 12px;font-size:22px;font-weight:800;letter-spacing:.2px}.card.jsx-3199e8c76367f965{background:var(--panel);border:1px solid var(--border);-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);padding:18px;margin:18px 0}.row.jsx-3199e8c76367f965{display:grid;grid-template-columns:160px 1fr;gap:10px 18px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin:var(--space)0;font-size:16px;line-height:1.65}.label.jsx-3199e8c76367f965{font-weight:700;color:var(--text)}.grid.jsx-3199e8c76367f965{display:grid;grid-template-columns:repeat(3,minmax(160px,1fr));gap:12px;margin-top:8px}.input.jsx-3199e8c76367f965{width:100%;max-width:360px;background:#fff;color:var(--text);border:1px solid var(--border-strong);-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);padding:11px 12px;outline:none;font-size:16px;-webkit-transition:border-color.15s,box-shadow.15s;-moz-transition:border-color.15s,box-shadow.15s;-o-transition:border-color.15s,box-shadow.15s;transition:border-color.15s,box-shadow.15s}.input.spaced.jsx-3199e8c76367f965{margin:10px 0}.input.jsx-3199e8c76367f965::-webkit-input-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965:-moz-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965::-moz-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965:-ms-input-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965::-ms-input-placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965::placeholder{color:#9ca3af}.input.jsx-3199e8c76367f965:focus{border-color:var(--accent);-webkit-box-shadow:0 0 0 3px rgba(37,99,235,.18);-moz-box-shadow:0 0 0 3px rgba(37,99,235,.18);box-shadow:0 0 0 3px rgba(37,99,235,.18)}.input-error.jsx-3199e8c76367f965{border-color:var(--err);-webkit-box-shadow:0 0 0 3px rgba(220,38,38,.15);-moz-box-shadow:0 0 0 3px rgba(220,38,38,.15);box-shadow:0 0 0 3px rgba(220,38,38,.15)}.btn.jsx-3199e8c76367f965{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;border:1px solid var(--border-strong);background:#f8fafc;color:var(--text);padding:11px 14px;-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);cursor:pointer;-webkit-transition:background.15s,border-color.15s,-webkit-transform.06s;-moz-transition:background.15s,border-color.15s,-moz-transform.06s;-o-transition:background.15s,border-color.15s,-o-transform.06s;transition:background.15s,border-color.15s,-webkit-transform.06s;transition:background.15s,border-color.15s,-moz-transform.06s;transition:background.15s,border-color.15s,-o-transform.06s;transition:background.15s,border-color.15s,transform.06s}.btn.jsx-3199e8c76367f965:hover{background:#eef2f7;border-color:#b6c1d4}.btn.jsx-3199e8c76367f965:active{-webkit-transform:translatey(1px);-moz-transform:translatey(1px);-ms-transform:translatey(1px);-o-transform:translatey(1px);transform:translatey(1px)}.btn.outline.jsx-3199e8c76367f965{background:#fff}.btn.ghost.jsx-3199e8c76367f965{background:#fff}.btn.disabled.jsx-3199e8c76367f965{opacity:.6;cursor:not-allowed}.btn.chip.jsx-3199e8c76367f965{-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);background:#fff}.btn.chip.chip-selected.jsx-3199e8c76367f965{background:#e8f0ff;border-color:var(--accent);-webkit-box-shadow:0 0 0 3px rgba(37,99,235,.18);-moz-box-shadow:0 0 0 3px rgba(37,99,235,.18);box-shadow:0 0 0 3px rgba(37,99,235,.18)}.btn.primary.jsx-3199e8c76367f965{background:var(--accent);color:#fff;border-color:var(--accent);font-weight:800}.btn.primary.jsx-3199e8c76367f965:hover{background:var(--accent-2);border-color:var(--accent-2)}.btn.primary.jsx-3199e8c76367f965:disabled{background:#c7d2fe;border-color:#c7d2fe;color:#374151;cursor:not-allowed;opacity:.8}.wfull.jsx-3199e8c76367f965{width:100%;margin-top:10px}.err-text.jsx-3199e8c76367f965{color:var(--err);font-weight:700;font-size:14px}.hidden.jsx-3199e8c76367f965{display:none!important}.banner.jsx-3199e8c76367f965{margin-top:12px;padding:12px 14px;-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);background:#fff5f5;border:1px solid#fecaca;color:var(--err);font-weight:700}.banner.ok.jsx-3199e8c76367f965{background:#ecfdf5;border-color:#bbf7d0;color:var(--ok)}.debug.jsx-3199e8c76367f965{font-size:12px;color:var(--muted);margin-top:8px}@media(max-width:840px){.row.jsx-3199e8c76367f965{grid-template-columns:1fr}.grid.jsx-3199e8c76367f965{grid-template-columns:repeat(2,minmax(140px,1fr))}.container.jsx-3199e8c76367f965{margin:16px;padding:18px}}"})]})}},5100:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>o});var s=r(9510);let t=(0,r(8570).createProxy)(String.raw`/Users/nagai/auto-loop-demo/src/components/ReservationWidget.tsx#default`);function o(){return s.jsx("main",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:(0,s.jsxs)("div",{style:{padding:"40px 20px"},children:[s.jsx("h1",{style:{textAlign:"center",marginBottom:"40px"},children:"イベント予約システム"}),s.jsx(t,{})]})})}}};var a=require("../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[276,471,911],()=>r(3735));module.exports=s})();