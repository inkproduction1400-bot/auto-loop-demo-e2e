(()=>{var e={};e.id=16,e.ids=[16],e.modules={728:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var s=t(5512),a=t(8009),n=t(8531),i=t.n(n),o=t(9334),l=t(7664),d=t.n(l);let m=(e,r,t="")=>(e.get(r)??t).trim(),c=(e,r,t)=>{let s=Number.parseInt(e.get(r)??"",10);return Number.isFinite(s)&&s>0?s:t};function u(){let e=(0,o.useRouter)(),r=(0,o.useSearchParams)(),t=m(r,"q"),n=c(r,"page",1),l=Math.min(100,c(r,"size",20));(0,a.useMemo)(()=>{let e=new URLSearchParams;return t&&e.set("q",t),e.set("page",String(n)),e.set("size",String(l)),`/api/admin/customers?${e.toString()}`},[t,n,l]);let[u,h]=(0,a.useState)(null),[p,_]=(0,a.useState)(!0),[x,v]=(0,a.useState)(null),b=e=>{let t=new URLSearchParams(r.toString());return t.set("page",String(e)),t.set("size",String(l)),`/admin/customers?${t.toString()}`};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:d().title,children:"顧客一覧"}),(0,s.jsxs)("form",{className:d().toolbar,onSubmit:r=>{r.preventDefault();let t=new FormData(r.currentTarget),s=new URLSearchParams,a=String(t.get("q")??"").trim();a&&s.set("q",a),s.set("page","1"),s.set("size",String(l)),e.push(`/admin/customers?${s.toString()}`)},children:[(0,s.jsx)("input",{name:"q",placeholder:"氏名/メール/電話",defaultValue:t}),(0,s.jsx)("button",{type:"submit",children:"検索"})]}),p&&(0,s.jsx)("div",{className:d().meta,children:"読み込み中…"}),x&&(0,s.jsxs)("div",{className:d().error,children:["読み込みに失敗しました: ",x]}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:d().meta,children:[u.meta.total,"件 / ",u.meta.page,"/",u.meta.totalPages,"ページ"]}),(0,s.jsx)("div",{className:d().tableWrap,children:(0,s.jsxs)("table",{className:d().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"作成"}),(0,s.jsx)("th",{children:"氏名"}),(0,s.jsx)("th",{children:"メール"}),(0,s.jsx)("th",{children:"電話"}),(0,s.jsx)("th",{children:"予約数"})]})}),(0,s.jsxs)("tbody",{children:[u.items.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:new Date(e.createdAt).toLocaleString("ja-JP")}),(0,s.jsx)("td",{children:e.name??"-"}),(0,s.jsx)("td",{children:e.email??"-"}),(0,s.jsx)("td",{children:e.phone??"-"}),(0,s.jsx)("td",{children:(0,s.jsx)(i(),{href:`/admin/reservations?q=${encodeURIComponent(e.email??"")}`,children:e._count.reservations})})]},e.id)),0===u.items.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:24},children:"データがありません"})})]})]})}),(0,s.jsx)("div",{className:d().pager,children:Array.from({length:u.meta.totalPages}).map((e,r)=>{let t=r+1;return(0,s.jsx)(i(),{href:b(t),className:`${d().pagebtn} ${t===u.meta.page?d().active:""}`,children:t},t)})})]})]})}function h(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{children:"読み込み中…"}),children:(0,s.jsx)(u,{})})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2636:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6959,23)),Promise.resolve().then(t.t.bind(t,3875,23)),Promise.resolve().then(t.t.bind(t,8903,23)),Promise.resolve().then(t.t.bind(t,7174,23)),Promise.resolve().then(t.t.bind(t,4178,23)),Promise.resolve().then(t.t.bind(t,7190,23)),Promise.resolve().then(t.t.bind(t,8429,23)),Promise.resolve().then(t.t.bind(t,1365,23))},2701:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>m,routeModule:()=>u,tree:()=>d});var s=t(260),a=t(8203),n=t(5155),i=t.n(n),o=t(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d={children:["",{children:["admin",{children:["customers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9406)),"/Users/nagai/auto-loop-demo/app/admin/customers/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7280)),"/Users/nagai/auto-loop-demo/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9611)),"/Users/nagai/auto-loop-demo/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}]}.children,m=["/Users/nagai/auto-loop-demo/app/admin/customers/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/customers/page",pathname:"/admin/customers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3751:()=>{},3873:e=>{"use strict";e.exports=require("path")},3921:e=>{e.exports={shell:"layout_shell__VDS2f",sidebar:"layout_sidebar__91DNp",brand:"layout_brand__7r_EQ",brandLink:"layout_brandLink__Us7kf",brandMark:"layout_brandMark__kMwAP",brandText:"layout_brandText__saJb_",nav:"layout_nav__p8J2W",navItem:"layout_navItem___JPGO",navFooter:"layout_navFooter__HYW3U",navHelp:"layout_navHelp__FpSjQ",content:"layout_content__J04gB",header:"layout_header__hf7yS",headerTitle:"layout_headerTitle__rAQ6L",main:"layout_main__9mJd7",panel:"layout_panel__pBuc5"}},5503:()=>{},7030:(e,r,t)=>{Promise.resolve().then(t.bind(t,728))},7280:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(2740),a=t(9607),n=t.n(a),i=t(3921),o=t.n(i);function l({children:e}){return(0,s.jsxs)("div",{className:o().shell,children:[(0,s.jsxs)("aside",{className:o().sidebar,children:[(0,s.jsx)("div",{className:o().brand,children:(0,s.jsxs)(n(),{href:"/admin",className:o().brandLink,children:[(0,s.jsx)("span",{className:o().brandMark,children:"●"}),(0,s.jsx)("span",{className:o().brandText,children:"Admin"})]})}),(0,s.jsxs)("nav",{className:o().nav,children:[(0,s.jsx)(n(),{href:"/admin",className:o().navItem,children:"ダッシュボード"}),(0,s.jsx)(n(),{href:"/admin/reservations",className:o().navItem,children:"予約一覧"}),(0,s.jsx)(n(),{href:"/admin/customers",className:o().navItem,children:"顧客一覧"})]})]}),(0,s.jsxs)("div",{className:o().main,children:[(0,s.jsxs)("header",{className:o().header,children:[(0,s.jsx)("div",{className:o().headerTitle,children:"管理画面"}),(0,s.jsx)("div",{className:o().headerActions})]}),(0,s.jsx)("main",{className:o().content,children:e})]})]})}},7664:e=>{e.exports={title:"customers_title__QUPQm",toolbar:"customers_toolbar__tltFK",meta:"customers_meta___deC_",error:"customers_error__WxXux",tableWrap:"customers_tableWrap__zoLgY",table:"customers_table__FP_wm",pager:"customers_pager__sslEC",pagebtn:"customers_pagebtn__L_PGF",active:"customers_active__uGMVo"}},8574:(e,r,t)=>{Promise.resolve().then(t.bind(t,9406))},9032:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,8531,23))},9084:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,3219,23)),Promise.resolve().then(t.t.bind(t,4863,23)),Promise.resolve().then(t.t.bind(t,5155,23)),Promise.resolve().then(t.t.bind(t,802,23)),Promise.resolve().then(t.t.bind(t,9350,23)),Promise.resolve().then(t.t.bind(t,8530,23)),Promise.resolve().then(t.t.bind(t,1601,23)),Promise.resolve().then(t.t.bind(t,8921,23))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9304:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,9607,23))},9334:(e,r,t)=>{"use strict";var s=t(8686);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},9406:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nagai/auto-loop-demo/app/admin/customers/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nagai/auto-loop-demo/app/admin/customers/page.tsx","default")},9611:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(2740);function a({children:e}){return(0,s.jsx)("html",{lang:"ja",children:(0,s.jsx)("body",{children:e})})}t(2704)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,999,977],()=>t(2701));module.exports=s})();